---
import MainLayout from "../layouts/MainLayout.astro";

const query: string | null = Astro.url.searchParams.get("query");

const response = await fetch(
  `https://dummyjson.com/products/search?q=${query}`
);
const results = await response.json();
---

<MainLayout title="Wyszukiwarka">
  <h1>Rezultaty szukania</h1>
  {
    results.products.map((result: any) => (
      <p>
        {result.id} - {result.title} - {result.category}
      </p>
    ))
  }
</MainLayout>
